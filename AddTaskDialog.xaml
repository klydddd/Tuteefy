<Window x:Class="TuteefyWPF.AddTaskDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterOwner"
        Width="450" Height="200"
        ShowInTaskbar="False"
        ResizeMode="NoResize">

    <Window.Resources>
        <Style x:Key="RoundedPlaceholderTextBox" TargetType="TextBox">
            <!-- Base visual styling -->
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="LightGray"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="0,5"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Grid>
                            <!-- Outer Border (rounded) -->
                            <Border
                 x:Name="Border"
                 CornerRadius="10"
                 Background="{TemplateBinding Background}"
                 BorderBrush="{TemplateBinding BorderBrush}"
                 BorderThickness="{TemplateBinding BorderThickness}"
                 SnapsToDevicePixels="True">

                                <!-- Default shadow (off) -->
                                <Border.Effect>
                                    <DropShadowEffect Color="White"
                                       BlurRadius="40"
                                       ShadowDepth="0"
                                       Opacity="0.3"/>
                                </Border.Effect>

                                <ScrollViewer x:Name="PART_ContentHost" Margin="10,5,10,5"/>
                            </Border>

                            <!-- Placeholder Text -->

                        </Grid>

                        <!-- ✨Triggers for focus, glow, and placeholder visibility -->
                        <ControlTemplate.Triggers>

                            <!-- Smooth glow when focused -->
                            <EventTrigger RoutedEvent="GotFocus">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation
                             Storyboard.TargetName="Border"
                             Storyboard.TargetProperty="(UIElement.Effect).(DropShadowEffect.Opacity)"
                             To="0.8"
                             Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <!-- Slight border color highlight -->
                                        <ColorAnimation
                             Storyboard.TargetName="Border"
                             Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                             To="#FF7B68EE"
                             Duration="0:0:0.25">
                                            <ColorAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut"/>
                                            </ColorAnimation.EasingFunction>
                                        </ColorAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <!-- Fade glow out when unfocused -->
                            <EventTrigger RoutedEvent="LostFocus">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation
                             Storyboard.TargetName="Border"
                             Storyboard.TargetProperty="(UIElement.Effect).(DropShadowEffect.Opacity)"
                             To="0"
                             Duration="0:0:0.25">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <ColorAnimation
                             Storyboard.TargetName="Border"
                             Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                             To="LightGray"
                             Duration="0:0:0.25">
                                            <ColorAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut"/>
                                            </ColorAnimation.EasingFunction>
                                        </ColorAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- Background blur and card -->
        <Border CornerRadius="15"
                Background="White"
                Padding="20"
                VerticalAlignment="Center"
                HorizontalAlignment="Center"
                Width="350"
                Height="150"
                Effect="{DynamicResource ShadowEffect}">
            <StackPanel>
                <TextBlock x:Name="DialogTitle"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="#5E35B1"
                           Text="Add a Task"
                           Margin="0,0,0,10"/>
                <TextBox
                    x:Name="TaskInput"
                    Style="{StaticResource RoundedPlaceholderTextBox}"
                    Tag="username"  
                    Width="310"
                    Height="35"
                    TextWrapping="Wrap"/>



                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
                    <Button Content="Cancel"
                            Width="70"
                            Margin="0,0,10,0"
                            Background="#EDE7F6"
                            Foreground="#5E35B1"
                            BorderBrush="Transparent"
                            Cursor="Hand"
                            Click="Cancel_Click"/>
                    <Button Content="Add"
                            Width="70"
                            Background="#7C4DFF"
                            Foreground="White"
                            BorderBrush="Transparent"
                            Cursor="Hand"
                            Click="Add_Click"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
